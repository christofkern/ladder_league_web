<!DOCTYPE html>
<html>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

<body class="layout" width=1920px height=1080px>
<div id="name1" class="runnername">
(x) RUNNER 1
</div>
<div id="name2" class="runnername">
(y) RUNNER 2
</div>
<div id="name3" class="runnername">
(z) RUNNER 3
</div>
<div class="statistics">

<div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-interval="6000" data-bs-ride="carousel"  style="width:100%">
  <div class="carousel-inner" id="carousel-inner">   	
  </div>
</div>



</div>
<div class="commentators">
<div class="block" style="height: 100%;">
    
    <div class="centered" id="cbox">
        <div class="child">
        P53
        </div>

    </div>
    
</div>
</div>
</div>
<div class ="timer">
1:23:32
</div>
</body>

<script>
function setCommentators(names){
	var len = 0;
	for(name of names){
		len = Math.max(len,name.length);
	}
	var fontsize = 45;
	var fontsize2 = fontsize-Math.min(Math.max(0,len-3)*1.8,41);
	var fontsize3 = fontsize-Math.min(Math.max(0,names.length-3)*8,41);
	fontsize = Math.min(fontsize2,fontsize3);
	
	commentatorBox = document.getElementById("cbox");
	commentatorBox.innerHTML="";
	for(name of names){
		var innerDiv = document.createElement('div');
		innerDiv.className = 'child';
		innerDiv.innerHTML = name;
		innerDiv.style="font-size:" + fontsize.toString() + "px;"
		commentatorBox.appendChild(innerDiv);
	}
}	


function setRunners(){
	var runner_data = JSON.parse('{{ runnerdata | tojson | safe }}');

	// Accessing individual elements
	var runnernames = runner_data.runnernames;
	var flags = runner_data.flags;
	for (var i = 0; i < Math.min(3, runnernames.length); i++) {
		var fieldName = 'name' + (i + 1);
		document.getElementById(fieldName).innerHTML = runnernames[i] + '&nbsp<img src="' + flags[i] + '" alt="Flag" style="width: 64px;">'
	}
}

function setCarousel(runnerHTML, carouselItemsHTML){	
	document.getElementById("carousel-inner").innerHTML = carouselItemsHTML;
	document.getElementById("carouselExampleSlidesOnly").innerHTML += runnerHTML;
}


setCommentators(["Siedemnastek","Evan","ERoadHouse"]);
setRunners();
var carouselItemsHTML = `{{ carousel_items | safe }}`;
var carouselRunnersHTML = `{{ carousel_runners | safe }}`;
setCarousel(carouselRunnersHTML, carouselItemsHTML);



</script>

</html>
